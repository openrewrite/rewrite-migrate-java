#
# Copyright 2021 the original author or authors.
# <p>
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# <p>
# https://www.apache.org/licenses/LICENSE-2.0
# <p>
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

---
type: specs.openrewrite.org/v1beta/recipe
name: org.openrewrite.java.migrate.hibernate.MigrateToHibernate61
displayName: Migrate to Hibernate 6.1.x
description: >
  This recipe will apply changes commonly needed when migrating to Hibernate 6.1.x. The hibernate dependencies will  
  be updated to use the new org.hibernate.orm group ID and the recipe will make changes necessary to use Hibernate
  with Jakarta EE 9.0.

recipeList:
  - org.openrewrite.java.migrate.hibernate.MigrateToHibernateDependencies61
  - org.openrewrite.java.migrate.jakarta.JavaxPersistenceToJakartaPersistence
  - org.openrewrite.java.migrate.jakarta.JavaxPersistenceXmlToJakartaPersistenceXml

---
type: specs.openrewrite.org/v1beta/recipe
name: org.openrewrite.java.migrate.hibernate.MigrateToHibernateDependencies61
displayName: Migrate Hibernate dependencies to 6.1.x
description: >
  This recipe will migrate any existing dependencies on Hibernate 5.x to the latest 6.1.x release. This migration will
  include the adjustment to the new `org.hibernate.orm` group ID. It accounts for artifacts names that both do and do
  not include the `jakarta` suffix and it will change both dependencies and managed dependencies.

recipeList:
  # hibernate-agroal
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-agroal
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-agroal
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-agroal-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-agroal
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-agroal
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-agroal
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-agroal-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-agroal
        newVersion: 6.1.x
  # hibernate-c3p0
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-c3p0
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-c3p0
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-c3p0-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-c3p0
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-c3p0
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-c3p0
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-c3p0-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-c3p0
        newVersion: 6.1.x
    # hibernate-community-dialects
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-community-dialects
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-community-dialects
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-community-dialects-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-community-dialects
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-community-dialects
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-community-dialects
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-community-dialects-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-community-dialects
        newVersion: 6.1.x
    # hibernate-core
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-core
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-core
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-core-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-core
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-core
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-core
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-core-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-core
        newVersion: 6.1.x
    # hibernate-envers
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-envers
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-envers
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-envers-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-envers
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-envers
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-envers
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-envers-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-envers
        newVersion: 6.1.x
    # hibernate-graalvm
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-graalvm
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-graalvm
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-graalvm-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-graalvm
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-graalvm
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-graalvm
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-graalvm-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-graalvm
        newVersion: 6.1.x
    # hibernate-hikaricp
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-hikaricp
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-hikaricp
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-hikaricp-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-hikaricp
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-hikaricp
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-hikaricp
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-hikaricp-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-hikaricp
        newVersion: 6.1.x
    # hibernate-jcache
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-jcache
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-jcache
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-jcache-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-jcache
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-jcache
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-jcache
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-jcache-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-jcache
        newVersion: 6.1.x
    # hibernate-jpamodelgen
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-jpamodelgen
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-jpamodelgen
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-jpamodelgen-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-jpamodelgen
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-jpamodelgen
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-jpamodelgen
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-jpamodelgen-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-jpamodelgen
        newVersion: 6.1.x
    # hibernate-micrometer
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-micrometer
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-micrometer
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-micrometer-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-micrometer
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-micrometer
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-micrometer
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-micrometer-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-micrometer
        newVersion: 6.1.x
    # hibernate-proxool
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-proxool
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-proxool
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-proxool-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-proxool
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-proxool
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-proxool
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-proxool-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-proxool
        newVersion: 6.1.x
    # hibernate-spatial
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-spatial
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-spatial
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-spatial-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-spatial
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-spatial
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-spatial
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-spatial-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-spatial
        newVersion: 6.1.x
    # hibernate-testing
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-testing
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-testing
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-testing-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-testing
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-testing
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-testing
        newVersion: 6.1.x
  - org.openrewrite.maven.ChangeManagedDependencyGroupIdAndArtifactId:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-testing-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-testing
        newVersion: 6.1.x
    # hibernate-testing
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-testing
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-testing
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.ChangeDependency:
        oldGroupId: org.hibernate
        oldArtifactId: hibernate-testing-jakarta
        newGroupId: org.hibernate.orm
        newArtifactId: hibernate-testing
        newVersion: 6.1.x
  - org.openrewrite.java.dependencies.RemoveDependency:
        groupId: org.hibernate
        artifactId: hibernate-entitymanager
